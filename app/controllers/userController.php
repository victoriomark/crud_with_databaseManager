<?phpnamespace controllers;use models\User;require_once '../models/user.php';class userController{    public User $model;    public function __construct()    {        $this->model = new User();    }  public function insertData()  {      $username = htmlspecialchars($_POST['username']);      $user_email = htmlspecialchars($_POST['userEmail']);      if (empty($username) || empty($user_email)) {          echo json_encode(['message' => 'All fields are required']);          return;      }      $userData = [         'username' => $username,         'user_email' => $user_email      ];       $newUser = $this->model->createUser($userData);       if ($newUser) {          echo json_encode(['success' => true, 'message' => 'Successfully created user']);       } else {           echo json_encode(['success' => false, 'message' => 'Failed to create user']);       }  }  public  function showActiveUser()  {      $ActiveUser = $this->model->showAll_whereStatus_Active('Active');       $tr = '';      if ($ActiveUser){          foreach ($ActiveUser as $user){             $tr .= '           <tr>            <th scope="row">'.$user['id'].'</th>            <td>'.$user['username'].'</td>            <td>'.$user['user_email'].'</td>            <td>'.$user['userStatus'].'</td>            <td>                <button id="update_btn" value="'.$user['id'].'" class="btn btn-primary">Edit</button>                <button value="'.$user['id'].'" class="btn btn-danger">Delete</button>            </td>        </tr>             ';          }      }else{          $tr .= '           <tr>            <td colspan="4">No User Found</td>        </tr>             ';      }      echo $tr;  }  public function showBaseOnId()  {      $Id = htmlspecialchars($_POST['Id']);      if(empty($Id)){          echo json_encode(['success' => false, 'message' => 'Id is required']);          return;      }      $user = $this->model->showBaseOnId($Id);      $modal = '';      if ($user){          foreach ($user as $data){                            $modal .= '              <!-- Modal -->                <div class="modal fade" id="updateModal_'.$data['id'].'" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">                  <div class="modal-dialog modal-dialog-centered">                    <div class="modal-content">                      <div class="modal-header">                        <h1 class="modal-title fs-5" id="staticBackdropLabel">Update Details</h1>                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>                      </div>                      <form>                      <div class="modal-body">                          <div class="form-floating mb-3">                          <input value="'.$data['username'].'" type="text" class="form-control" id="username" placeholder=username" required>                          <label for="username"></label>                        </div>                        <div class="form-floating mb-3">                          <input value="'.$data['user_email'].'" type="email"  class="form-control" id="floatingInput" placeholder="name@example.com" required>                          <label for="floatingInput">Email address</label>                        </div>                      </div>                      <div class="modal-footer">                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>                        <button type="submit" class="btn btn-primary">Save Changes</button>                      </div>                      </form>                    </div>                  </div>                </div>              ';          echo $modal;          }      }  }}if ($_SERVER['REQUEST_METHOD'] === 'POST' && isset($_POST['action'])) {    $userController = new userController();    switch ($_POST['action']) {        case 'createUser':            $userController->insertData();            break;            case 'showActiveUser':            $userController->showActiveUser();            break;            case 'showBaseOnId':            $userController->showBaseOnId();            break;        default:            echo json_encode(['message' => 'Invalid action']);            break;    }}